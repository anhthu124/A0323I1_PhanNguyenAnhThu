<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sinh viên</title>
    <style>
        table {
            border-collapse: collapse;
            width: 50px;
            margin: 0 auto;
        }
    </style>
</head>
<body>


<label for="name">Tên:
    <input type="text" id="name">
</label>
<label for="age">Tuổi:
    <input type="number" id="age">
</label>
<label for="class">Lớp:
    <input type="text" id="class">
</label>
<button onclick="Addstudent()">Thêm học sinh</button>
<p id="display"></p>
<script>
    class Student {
        constructor(name, age, classname) {
            this.name = name;
            this.age = age;
            this.classname = classname;
        }

        getName() {
            return this.name;
        }

        setName(value) {
            this.name = value;
        }

        getAge() {
            return this.age;
        }

        setAge(value) {
            this.age = value;
        }

        getClassname() {
            return this.classname;
        }

        setClassname(value) {
            this.classname = value;
        }

        toString() {
            return "Tên: " + this.name + " Tuổi: " + this.age + " Lớp : " + this.classname;
        }
    }

    let student1 = new Student("Anh Thư", 19, "A0322I1");
    let arr = [student1, student2, student3]

    function Display(arr) {
        let str = "<table border='1'>" +
            "<tr>" +
            "<th>STT</th>" +
            "<th>Tên</th>" +
            "<th>Tuổi</th>" +
            "<th>Lớp</th>" +
            "<th colspan='2'>Thao tác</th>" +
            "</tr>";
        for (let i = 0; i < arr.length; i++) {
            str += "<tr>" +
                "<td>" + (i + 1) + "</td>" +
                "<td>" + arr[i].getName() + "</td>" +
                "<td>" + arr[i].getAge() + "</td>" +
                "<td>" + arr[i].getClassname() + "</td>" +
                "<td><button id='edit' onclick='edit(" + i + ")'>Sửa</button></td>" +
                "<td><button id='remove' onclick='remove(" + i + ")'>Xoá</button></td>" +
                "<tr>"

        }
        str += "</table>"
        document.getElementById("display").innerHTML = str
    }

    Display(arr)

    function Addstudent() {
        let name = document.getElementById('name').value
        let age = document.getElementById('age').value
        let classname = document.getElementById('class').value
        let student = new Student(name, age, classname)
        arr.push(student)
        alert("Thêm mới thành công")
        Display(arr)
    }

    function remove(value) {
        let result = confirm("Bạn có chắc muốn xoá " + arr[value].getName() + "?");
        if (result) {
            arr.splice(value, 1);
            alert("Xoá thành công")
        } else {
            alert("Haha bạn đã fail")
        }
        Display(arr)
    }

    function edit(value) {
        let name = prompt("Nhập tên học sinh:")
        let age = +prompt("Nhập tuổi học sinh:")
        let classname = prompt("Nhập lớp học sinh:")
        arr[value].setName(name)
        arr[value].setAge(age)
        arr[value].setClassname(classname)
        alert("Thay đổi thành công")
        Display(arr)
    }
</script>
</body>
</html>